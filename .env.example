# Pullforge OS Environment Configuration
# Copy this file to .env.local and fill in your actual values

# =============================================================================
# WEBCONTAINER API (Required for Terminal & Code Execution)
# =============================================================================
# WebContainer runs in the browser - no API key needed, but requires HTTPS in production
# For local development, WebContainer works on localhost
NEXT_PUBLIC_WEBCONTAINER_ENABLED=true

# =============================================================================
# SUPABASE CONFIGURATION (Required for Authentication & Vector Embeddings)
# =============================================================================
# Get these from: https://supabase.com/dashboard/project/[your-project]/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key-here

# Supabase Service Role Key (for server-side operations)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key-here

# =============================================================================
# GITHUB APP CONFIGURATION (Required for Repository Access)
# =============================================================================
# Create GitHub App at: https://github.com/settings/apps/new
GITHUB_APP_ID=123456
GITHUB_CLIENT_ID=Iv1.abc123def456
GITHUB_CLIENT_SECRET=your_github_client_secret_here

# GitHub App Private Key (for server-side GitHub API calls)
# Replace \n with actual newlines in your .env.local file
GITHUB_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END RSA PRIVATE KEY-----"

# GitHub Webhook Secret (for securing webhooks)
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here

# =============================================================================
# MONACO EDITOR (Code Editor - No API key needed)
# =============================================================================
# Monaco Editor is loaded from CDN - no configuration needed
NEXT_PUBLIC_MONACO_EDITOR_ENABLED=true

# =============================================================================
# XTERM.JS & TERMINAL (No API key needed)
# =============================================================================
# XTerm.js for terminal interface - works with WebContainer
NEXT_PUBLIC_XTERM_ENABLED=true

# =============================================================================
# OPENROUTER API (Primary AI Provider for Chat & Embeddings)
# =============================================================================
# Get your API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-your-openrouter-api-key-here
NEXT_PUBLIC_OPENROUTER_ENABLED=true

# OpenRouter Site URL (for credits and usage tracking)
OPENROUTER_SITE_URL=http://localhost:3000
OPENROUTER_SITE_NAME=Pullforge OS

# Primary LLM Model (Moonshot AI Kimi with vision and thinking capabilities)
OPENROUTER_MODEL=moonshotai/kimi-vl-a3b-thinking:free
NEXT_PUBLIC_OPENROUTER_MODEL=moonshotai/kimi-vl-a3b-thinking:free

# Fallback models (if primary model is unavailable)
OPENROUTER_FALLBACK_MODELS=openai/gpt-3.5-turbo,anthropic/claude-3-haiku

# =============================================================================
# OPENAI CONFIGURATION (Optional/Fallback AI Provider)
# =============================================================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Organization ID (optional, if you're part of an organization)
OPENAI_ORG_ID=org-your-organization-id-here

# =============================================================================
# N8N WORKFLOW AUTOMATION (Optional)
# =============================================================================
# Your n8n instance URL and API key
N8N_BASE_URL=https://your-n8n-instance.com
N8N_API_KEY=n8n_api_key_your-api-key-here

# =============================================================================
# NEXT.JS CONFIGURATION
# =============================================================================
# Set to 'development' for local development, 'production' for deployment
NODE_ENV=development

# Your application's base URL
NEXTAUTH_URL=http://localhost:3000

# Secret for NextAuth.js (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-nextauth-secret-here

# =============================================================================
# OPTIONAL INTEGRATIONS
# =============================================================================

# Anthropic Claude API (for additional AI features)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Google AI/Gemini API (for additional AI features)
GOOGLE_AI_API_KEY=your-google-ai-api-key-here

# Vercel Analytics (if deploying to Vercel)
VERCEL_ANALYTICS_ID=your-vercel-analytics-id

# Sentry Error Tracking (for production error monitoring)
SENTRY_DSN=https://your-sentry-dsn-here@sentry.io/project-id

# =============================================================================
# DATABASE CONFIGURATION (if using external database)
# =============================================================================
# PostgreSQL connection string (if not using Supabase built-in database)
DATABASE_URL=postgresql://username:password@host:port/database

# Redis URL (for caching and session storage)
REDIS_URL=redis://username:password@host:port

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Domain for production deployment
NEXT_PUBLIC_APP_URL=https://your-domain.com

# CDN URL for static assets
NEXT_PUBLIC_CDN_URL=https://cdn.your-domain.com

# =============================================================================
# FEATURE FLAGS (Optional - Enable/Disable Features)
# =============================================================================
# Set to 'true' to enable, 'false' to disable
NEXT_PUBLIC_ENABLE_GITHUB_INTEGRATION=true
NEXT_PUBLIC_ENABLE_VECTOR_SEARCH=true
NEXT_PUBLIC_ENABLE_LIVE_PREVIEW=true
NEXT_PUBLIC_ENABLE_WORKFLOW_AUTOMATION=true
NEXT_PUBLIC_ENABLE_AI_FEATURES=true

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable debug logging in development
DEBUG=true

# Skip authentication in development (for testing)
SKIP_AUTH_IN_DEV=false

# Mock external services in development
MOCK_GITHUB_API=false
MOCK_OPENAI_API=false

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# Rate limiting configuration
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# Session configuration
SESSION_MAX_AGE=86400
SESSION_UPDATE_AGE=3600
